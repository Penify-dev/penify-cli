# page `md__tmp_github_reposRepoArchDocGenContext_Penify_dev_penify_cli_docs_doc_commands` {#md__tmp_github_reposRepoArchDocGenContext_Penify_dev_penify_cli_docs_doc_commands}

This document provides a detailed guide to all permutations and combinations of the `docgen` command, including extensive information about Git hook commands for automating documentation generation.

Table of Contents

* Basic Usage

* Command Options

* Option Combinations

* Git Hook Commands

* Hook Installation

* Hook Customization

* Hook Uninstallation

* Advanced Use Cases

* Troubleshooting

Basic Usage
```cpp
penify docgen
```

By default, this command:

* Analyzes the current Git diff (changes since last commit)

* Generates documentation for changed files only

* Requires authentication via `penify login`

Command Options<tt>-l, --location</tt>Specify a target for documentation generation:

```cpp
# Generate documentation for a specific file
penify docgen -l path/to/file.py

# Generate documentation for a specific folder
penify docgen -l path/to/folder
```

Without this flag, Penify analyzes only Git-tracked modified files.

Subcommands<tt>install-hook</tt>Install a Git post-commit hook to automatically generate documentation:

```cpp
penify docgen install-hook
```

<tt>uninstall-hook</tt>Remove the Git post-commit hook:

```cpp
penify docgen uninstall-hook
```

Option CombinationsGenerate Documentation for Current Git Diff
```cpp
# Basic usage - current Git diff
penify docgen
```

Generate Documentation for a Specific File
```cpp
# Single file documentation
penify docgen -l src/main.py
```

Generate Documentation for a Folder
```cpp
# Folder documentation
penify docgen -l src/models/
```

Install Hook in Current Repository
```cpp
# Install hook in current Git repository
penify docgen install-hook
```

Install Hook in Specific Repository
```cpp
# Install hook in a specific Git repository
penify docgen install-hook -l /path/to/repo
```

Uninstall Hook from Current Repository
```cpp
# Uninstall hook from current Git repository
penify docgen uninstall-hook
```

Uninstall Hook from Specific Repository
```cpp
# Uninstall hook from a specific Git repository
penify docgen uninstall-hook -l /path/to/repo
```

Git Hook CommandsPenify provides Git hook commands to automate documentation generation as part of your Git workflow.

Hook InstallationHow Hooks WorkWhen you install a Git hook with `penify docgen install-hook`, Penify:

* Creates a post-commit hook script in the `.git/hooks` directory

* Makes the script executable

* Configures the hook to run `penify docgen` after each commit

Hook Script ContentThe generated post-commit hook contains:

```cpp
#!/bin/sh
# This is a post-commit hook generated by penify.
# Automatically generates documentation for changed files after each commit.

penify docgen -gf /path/to/git/repository -t your_api_token
```

Installation LocationBy default, hooks are installed in the current Git repository. You can specify a different location:

```cpp
penify docgen install-hook -l /path/to/repo
```

Installation RequirementsTo install hooks, you need:

* A valid Penify API token (login first with `penify login`)

* Write permissions to the `.git/hooks` directory

Verifying InstallationAfter installation, you can verify that the hook is installed:

```cpp
cat .git/hooks/post-commit
```

Hook CustomizationYou can customize the post-commit hook after installation:

Modifying Hook Behavior* Edit the `.git/hooks/post-commit` file

* Add additional options to the `penify docgen` command

* Add other commands to run after commit

Example of a customized hook:

```cpp
#!/bin/sh
# This is a post-commit hook generated by penify.
# Automatically generates documentation for changed files after each commit.

# Generate documentation
penify docgen -gf /path/to/git/repository -t your_api_token

# Additional custom commands
echo "Documentation generation complete!"
```

Advanced Hook Scenarios**Conditional Documentation Generation**:

```cpp
#!/bin/sh
# Only generate documentation for commits to the main branch
BRANCH=$(git rev-parse --abbrev-ref HEAD)
if [ "$BRANCH" = "main" ]; then
  penify docgen -gf /path/to/git/repository -t your_api_token
fi
```

**Documenting Specific Files/Folders**:

```cpp
#!/bin/sh
# Only document Python files in the src directory
penify docgen -l src/ -gf /path/to/git/repository -t your_api_token
```

Hook UninstallationStandard UninstallationTo remove a hook from the current repository:

```cpp
penify docgen uninstall-hook
```

Specific Repository UninstallationTo remove a hook from a specific repository:

```cpp
penify docgen uninstall-hook -l /path/to/repo
```

Manual Hook RemovalIf needed, you can manually remove the hook:

```cpp
rm .git/hooks/post-commit
```

Verifying UninstallationCheck that the hook was successfully removed:

```cpp
ls -la .git/hooks/post-commit  # Should return "No such file or directory"
```

Advanced Use CasesContinuous IntegrationRun documentation generation in CI pipelines:

```cpp
# In your CI script
export PENIFY_API_TOKEN=your_api_token
penify docgen -l src/
```

Batch DocumentationGenerate documentation for multiple repositories:

```cpp
# Bash script for batch documentation
for repo in repo1 repo2 repo3; do
  cd /path/to/$repo
  penify docgen -l .
done
```

Custom Git Hook IntegrationIntegrate with other Git hooks:

```cpp
# In .git/hooks/pre-push
penify docgen -l src/
```

Documenting Release TagsGenerate documentation when creating a release tag:

```cpp
# Document everything when creating a tag
git tag -a v1.0.0
penify docgen -l .  # Document entire codebase
git commit --amend -m "Release v1.0.0 with updated documentation"
```

TroubleshootingCommon Issues* **"Authentication required"**

* Run `penify login` before using documentation features

* Check your API token with `cat ~/.penify`

* **"Permission denied when installing hook"**

* Check Git repository permissions

* Try running with sudo (if appropriate for your environment)

* Ensure the `.git/hooks` directory exists

* **"Hook installed but not running"**

* Check if the hook is executable: `ls -la .git/hooks/post-commit`

* Make it executable if needed: `chmod +x .git/hooks/post-commit`

* Check for syntax errors in the hook script

* **"File or directory not found"**

* Verify the path provided to the `-l` option

* Ensure you're running the command from the correct directory

* **"Hook uninstallation failed"**

* Check permissions on the `.git/hooks` directory

* Try manual removal: `rm .git/hooks/post-commit`

DebuggingFor detailed output when running documentation commands:

```cpp
export PENIFY_DEBUG=1
penify docgen -l src/
```

Getting HelpFor command-specific help:

```cpp
penify docgen --help
penify docgen install-hook --help
penify docgen uninstall-hook --help
```

